<div class="modal-form">
    <h2>ðŸ§¾ Registrar nueva venta</h2>
  
    <form (ngSubmit)="guardarVenta()">
      <div class="form-grid">
        <div class="form-group">
          <label>Cliente</label>
          <select [(ngModel)]="venta.cliente_id" name="cliente_id" required>
            <option *ngFor="let c of clientes" [value]="c.id">{{ c.nombre }} {{ c.apellido }}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Producto</label>
          <select [(ngModel)]="carrito.producto_id" name="producto_id" (change)="actualizarPrecio()" required>
            <option *ngFor="let p of productos" [value]="p.id">{{ p.nombre }}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Cantidad</label>
          <input type="number" [(ngModel)]="carrito.cantidad" name="cantidad" (input)="calcularTotal()" min="1" required />
        </div>
  
        <div class="form-group">
          <label>MÃ©todo de pago</label>
          <select [(ngModel)]="venta.metodo_pago_id" name="metodo_pago_id" required>
            <option *ngFor="let m of metodosPago" [value]="m.id">{{ m.nombre }}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Descuento</label>
          <select [(ngModel)]="venta.cupon_id" name="cupon_id" (change)="calcularTotal()">
            <option [ngValue]="null">Sin descuento</option>
            <option *ngFor="let d of cupones" [value]="d.id">{{ d.nombre }} - {{ d.monto }} Bs</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Fecha</label>
          <input type="date" [(ngModel)]="venta.fecha" name="fecha" required />
        </div>
  
        <div class="form-group">
          <label>Precio Unitario</label>
          <input type="number" [value]="precioUnitario" disabled />
        </div>
  
        <div class="form-group">
          <label>Subtotal</label>
          <input type="number" [value]="subtotal" disabled />
        </div>
  
        <div class="form-group">
          <label>Descuento</label>
          <input type="number" [value]="descuentoAplicado" disabled />
        </div>
  
        <div class="form-group">
          <label>Total</label>
          <input type="number" [value]="total" disabled />
        </div>
      </div>
  
      <div class="botones">
        <button type="submit">Guardar</button>
        <button type="button" (click)="volver()">Cancelar</button>
      </div>
    </form>
  </div>
  